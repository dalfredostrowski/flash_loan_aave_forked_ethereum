
module.exports = {
        networks: {
                hardhat: {
                localhost: {
                        url: "https://ec2-54-149-194-207.us-west-2.compute.amazonaws.com:8545",
                        accounts: ["d9c17d521f6104e918586d079ada62584a026e7b765130044f0abf6609ebb955"]
,                       chainId: 31337
              ,         gas: 1800


                }
,
                        forking: {
                                url: "https://cloudflare-eth.com/"
, chainId: 31337
, gas : 1800                    }

                }
   },

        solidity: "0.8.10",
};



npx hardhat node --hostname ec2-54-149-194-207.us-west-2.compute.amazonaws.com




https://github.com/NomicFoundation/hardhat/issues/1933

https://github.com/NomicFoundation/hardhat/issues/2593




ubuntu@ip-172-31-2-51:~/forkedMainnetFlash$ npx hardhat console
Welcome to Node.js v20.5.0.
Type ".help" for more information.
> const signers = await ethers.getSigners();

undefined
>
>
> const addressWithTokens = "0x20a47086ad3450d06B30eFCeb254C854FeBFB36D"
undefined
> await network.provider.send("hardhat_impersonateAccount", [addressWithTokens])
true
> const impersonatedSigner = await ethers.getSigner(addressWithTokens)
undefined
>
> const token = await ethers.getContractAt("IERC20", "0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48" )
undefined
> const myAddress = await signers[18].getAddress()
undefined
> 

> await token.connect(impersonatedSigner).transfer(myAddress, "1000000")
Uncaught:
InvalidInputError: sender doesn't have enough funds to send tx. The max upfront cost is: 962229651120000000 and the sender's account only has: 355686073134000

Uncaught:
InvalidInputError: sender doesn't have enough funds to send tx. The max upfront





await network.provider.send("hardhat_setBalance", [ addressWithTokens,"0x1000000000000000000000",]);
 await token.connect(impersonatedSigner).transfer(address, "2")
Uncaught:
Error: VM Exception while processing transaction: reverted with reason string 'ERC20: transfer amount exceeds balance'
    at <UnrecognizedContract>.<unknown> (0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48)
    at <UnrecognizedContract>.<unknown> (0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48)



